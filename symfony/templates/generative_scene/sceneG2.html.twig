{% extends 'base.html.twig' %}

{% block title %}Noise Orbit{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/generative.css') }}">
{% endblock %}

{% block body %}

{# Modale : save artwork  #}

{% include 'partials/_modale_saveArtwork.html.twig' %}

{# End modale #}

{# ---------------------- #}

<div class="headerTitle">
    <img class="titleImg" src={{ asset("/images/design/title2.png")}} alt="Style element title square">
    <h1>NOISE ORBIT</h1>
</div>

<div class="mainContainer">

{# Left Side #}

    <div class="leftSide">
        <div class="labelBox">
            <a href="{{ path('generativeHome')}}">Generative <br> Art</a>
            <img class="LabelImg" src={{ asset("/images/design/Title-square2.png")}} alt="Style element Generative Art">
        </div>
        {% if scene %}
            <p class="authorBanner">From the artwork of<span class="pseudo">{{scene.user.pseudo}}</span></p>
        {% endif %}
        <div class="descriptionBox">
            <div class="card-border">
                <div class="card ">
                    <div class="card-title">
                        Description
                    </div>
                    <img class="arrow1" src={{ asset("/images/design/arrow.png")}} alt="Description arrow">
                    <div class="separator"></div>
                    <div class="card-content">
                        <div class="descriptionContent">
                            Here you can play with the organic movements generated by Perlin noise ! <br><br> This mathematical function generates pseudo-random values that appear smoother and more natural. It produces gradual and fluid variations, unlike completely random noise, making it particularly useful for simulating natural phenomena in computer graphics. <br>
                            Perlin noise is commonly used in video games and computer graphics to generate realistic textures like terrains, clouds, fire, or marble. <br><br>
                            Special thanks to Stevan Dedovic for the tutorial he generously shared, which made the creation of this generative scene possible. <br><br>
                            <a href="https://www.generativehut.com/post/recreating-the-noise-orbit">Tutorial here</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <img class="CyberCircleImg" src={{asset("/images/design/circle1.png")}} alt="Style element rotating circle">
        <img class="hexaImg" src={{asset("/images/design/hexa.png")}} alt="Style element cyber hexagon">
    </div>
    
{# sketch #}

    <div id="sketch"></div>

{# parameters control pannel #}
    <div class="parametersBox">
        <div class="card-border">
            <div class="card ">
                <div class="card-title">
                    Control parameters
                </div>
                <div class="separator"></div>
                <div class="card-content">

                {# Parameters sliders #}

                    {% set sliders = [
                        {'label': 'Hue color', 'class': 'hueSlider', 'min': 0, 'max': 360, 'value': scene is null ? 180 : scene.hue, 'step': 1},
                        {'label': 'Color range', 'class': 'colorRangeSlider', 'min': 0, 'max': 1200, 'value': scene is null ? 600 : scene.colorRange, 'step': 1},
                        {'label': 'Brightness', 'class': 'brightnessSlider', 'min': 0, 'max': 100, 'value': scene is null ? 0 : scene.brightness, 'step': 1},
                        {'label': 'Movement', 'class': 'moveSlider', 'min': 0, 'max': 1, 'value': scene is null ? 0.08 : scene.movement, 'step': 0.005},
                        {'label': 'Deformation A', 'class': 'deformSlider', 'min': 0, 'max': 10, 'value': scene is null ? 0.5 : scene.deformA, 'step': 0.005},
                        {'label': 'Deformation B', 'class': 'deformSlider2', 'min': 0, 'max': 10, 'value': scene is null ? 0.5 : scene.deformB, 'step': 0.005},
                        {'label': 'Shape', 'class': 'shapeSlider', 'min': 1, 'max': 10, 'value': scene is null ? 2 : scene.shape, 'step': 0.5},
                        {'label': 'Rings', 'class': 'ringsSlider', 'min': 0, 'max': 0.3, 'value': scene is null ? 0 : scene.rings, 'step': 0.0005},
                        {'label': 'Diameter', 'class': 'diameterSlider', 'min': 0.001, 'max': 2.5, 'value': scene is null ? 0.4 : scene.diameter, 'step': 0.005},
                        {'label': 'Zoom', 'class': 'zoomSlider', 'min': 0, 'max': 5, 'value': scene is null ? 1 : scene.zoom, 'step': 0.005}
                    ] %}

                    {% for slider in sliders %}
                        <div class="sliderBox">
                            <p>{{ slider.label }}</p>
                            <div class="range-wrap">
                                <input type="range" class="range {{ slider.class }}" min="{{ slider.min }}" max="{{ slider.max }}" value="{{ slider.value }}" step="{{ slider.step }}">
                                <output class="bubble"></output>
                            </div>
                        </div>
                    {% endfor %}

                    <div class="buttonBox">
                        <a href="{{ path('getScene', {'id': scene is null ? null : scene.id, 'entity': 'Scene2'})}}" class="customButton generateButton">Reset</a>
                        {% if app.user %}
                            <button class="buttonModale customButton generateButton">Save</button>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>       
    </div>
</div>
{% if app.user %}
    <script>
        var userId = {{ app.user.id }};
    </script>
{% endif %}

<script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.js"></script>
<script src="{{ asset('js/sketchSceneG2.js') }}"></script>

{% endblock %}
